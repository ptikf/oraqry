select chain_id id,chain_is_cycle cycle ,chain_signature,chain_signature_hash hash,INSTANCE i,osid,pid,SID,sess_serial# ser,blocker_is_valid blk_valid,blocker_instance blk_i,blocker_osid blk_os,blocker_sid blk_sid,blocker_sess_serial# blk_ser,blocker_pid blk_pid,blocker_chain_id blk_chn_id,in_wait wait,-- time_since_last_wait_secs,wait_id wt_id,wait_event,wait_event_text,p1,p1_text,p2,p2_text,p3,p3_text,in_wait_secs wt_sec,time_remaining_secs,num_waiters,row_wait_obj#--row_wait_file#,--row_wait_block#,--row_wait_row# from v$wait_chains ;SELECT RPAD('+', LEVEL ,'-') || sid||' '||sess.module session_detail,       blocker_sid,  wait_event_text,       object_name,RPAD(' ', LEVEL )||sql_text sql_textFROM          v$wait_chains c           LEFT OUTER JOIN              dba_objects o           ON (row_wait_obj# = object_id)        JOIN           v$session sess        USING (sid)     LEFT OUTER JOIN        v$sql sql     ON (sql.sql_id = sess.sql_id          AND sql.child_number = sess.sql_child_number)CONNECT BY     PRIOR sid = blocker_sid           AND PRIOR sess_serial# = blocker_sess_serial#           AND PRIOR INSTANCE = blocker_instanceSTART WITH blocker_is_valid = 'FALSE'; SELECT RPAD('+', LEVEL ,'-') || sid||' '||sess_serial# sid_ser,sess.module session_detail,sess.username,sess.osuser,sess.machine,sess.status,blocker_sid,wait_event_text,object_name,sess.sql_id,RPAD(' ', LEVEL )||sql_text sql_textFROM v$wait_chains c LEFT OUTER JOIN dba_objects o ON (row_wait_obj# = object_id)JOIN v$session sess USING (sid)LEFT OUTER JOIN v$sql sql ON (sql.sql_id = sess.sql_id AND sql.child_number = sess.sql_child_number)CONNECT BY     PRIOR sid = blocker_sid           AND PRIOR sess_serial# = blocker_sess_serial#           AND PRIOR INSTANCE = blocker_instanceSTART WITH blocker_is_valid = 'FALSE' -- order by sql_text; ALTER SYSTEM DISCONNECT SESSION 'sid,serial#' IMMEDIATE;select 'ALTER SYSTEM DISCONNECT SESSION '''||sid||','||serial# ||''' IMMEDIATE; -- logon: '||logon_time  from v$session where status = 'INACTIVE' and type = 'USER' order by logon_time;select * from v$lock ;select * from V$SESSION_BLOCKERS ;select * from dba_waiters select * from v$locked_object ;select * from v$access ;select * from v$session ; select * from v$lock where type not in ('AE','MR');         select * from audit_actions ; select * from v$lock_type ; select * from sys.user$ ;select * from v$session ; select * from v$session_wait ;-- https://blog.dbi-services.com/oracle-locks-identifiying-blocking-sessions/with w as (select chain_id,rownum n,level l ,lpad(' ',level,' ')||(select instance_name from gv$instance where inst_id=w.instance)||' '''||w.sid||','||w.sess_serial#||'@'||w.instance||'''' "session" ,lpad(' ',level,' ')||w.wait_event_text ||   case   when w.wait_event_text like 'enq: TM%' then    ' mode '||decode(w.p1 ,1414332418,'Row-S' ,1414332419,'Row-X' ,1414332420,'Share' ,1414332421,'Share RX' ,1414332422,'eXclusive')     ||( select ' on '||object_type||' "'||owner||'"."'||object_name||'" ' from all_objects where object_id=w.p2 )   when w.wait_event_text like 'enq: TX%' then    (     select ' on '||object_type||' "'||owner||'"."'||object_name||'" on rowid '     ||dbms_rowid.rowid_create(1,data_object_id,relative_fno,w.row_wait_block#,w.row_wait_row#)     from all_objects ,dba_data_files where object_id=w.row_wait_obj# and w.row_wait_file#=file_id    )   end "wait event" , round(w.in_wait_secs/60) "minutes" , s.username , s.program from v$wait_chains w join gv$session s on (s.sid=w.sid and s.serial#=w.sess_serial# and s.inst_id=w.instance) connect by prior w.sid=w.blocker_sid and prior w.sess_serial#=w.blocker_sess_serial# and prior w.instance = w.blocker_instance start with w.blocker_sid is null)select * from w where chain_id in (select chain_id from w group by chain_id having max("minutes") >= 1 and max(l)>1 )order by n